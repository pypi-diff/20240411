# Comparing `tmp/argsense-0.5.6-py3-none-any.whl.zip` & `tmp/argsense-0.5.7-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 53726 bytes, number of entries: 45
+Zip file size: 53865 bytes, number of entries: 45
 -rw-r--r--  2.0 unx     1012 b- defN 80-Jan-01 00:00 argsense/__init__.py
 -rw-r--r--  2.0 unx     3327 b- defN 80-Jan-01 00:00 argsense/__main__.py
 -rw-r--r--  2.0 unx    10559 b- defN 80-Jan-01 00:00 argsense/cli.py
 -rw-r--r--  2.0 unx     2200 b- defN 80-Jan-01 00:00 argsense/config.py
 -rw-r--r--  2.0 unx      858 b- defN 80-Jan-01 00:00 argsense/console.py
 -rw-r--r--  2.0 unx     7800 b- defN 80-Jan-01 00:00 argsense/converter.py
 -rw-r--r--  2.0 unx      781 b- defN 80-Jan-01 00:00 argsense/general.py
@@ -10,15 +10,15 @@
 -rw-r--r--  2.0 unx      138 b- defN 80-Jan-01 00:00 argsense/parser/args_parser/__init__.py
 -rw-r--r--  2.0 unx     3083 b- defN 80-Jan-01 00:00 argsense/parser/args_parser/argv.py
 -rw-r--r--  2.0 unx      767 b- defN 80-Jan-01 00:00 argsense/parser/args_parser/context.py
 -rw-r--r--  2.0 unx     3673 b- defN 80-Jan-01 00:00 argsense/parser/args_parser/exceptions.py
 -rw-r--r--  2.0 unx     2429 b- defN 80-Jan-01 00:00 argsense/parser/args_parser/params.py
 -rw-r--r--  2.0 unx     7721 b- defN 80-Jan-01 00:00 argsense/parser/args_parser/parser.py
 -rw-r--r--  2.0 unx     3734 b- defN 80-Jan-01 00:00 argsense/parser/docs_parser.py
--rw-r--r--  2.0 unx    11337 b- defN 80-Jan-01 00:00 argsense/parser/func_parser.py
+-rw-r--r--  2.0 unx    11971 b- defN 80-Jan-01 00:00 argsense/parser/func_parser.py
 -rw-r--r--  2.0 unx      159 b- defN 80-Jan-01 00:00 argsense/renderer/__init__.py
 -rw-r--r--  2.0 unx       22 b- defN 80-Jan-01 00:00 argsense/renderer/psg/__init__.py
 -rw-r--r--  2.0 unx     8645 b- defN 80-Jan-01 00:00 argsense/renderer/psg/launcher.png
 -rw-r--r--  2.0 unx     4144 b- defN 80-Jan-01 00:00 argsense/renderer/psg/main.py
 -rw-r--r--  2.0 unx       55 b- defN 80-Jan-01 00:00 argsense/renderer/rich/__init__.py
 -rw-r--r--  2.0 unx     7109 b- defN 80-Jan-01 00:00 argsense/renderer/rich/artist.py
 -rw-r--r--  2.0 unx    12555 b- defN 80-Jan-01 00:00 argsense/renderer/rich/render.py
@@ -35,13 +35,13 @@
 -rw-r--r--  2.0 unx      802 b- defN 80-Jan-01 00:00 argsense/renderer/textual/textual_sugar/binding.py
 -rw-r--r--  2.0 unx      195 b- defN 80-Jan-01 00:00 argsense/renderer/textual/textual_sugar/chore.py
 -rw-r--r--  2.0 unx      224 b- defN 80-Jan-01 00:00 argsense/renderer/textual/textual_sugar/logger.py
 -rw-r--r--  2.0 unx     1814 b- defN 80-Jan-01 00:00 argsense/renderer/textual/textual_sugar/signal.py
 -rw-r--r--  2.0 unx     1518 b- defN 80-Jan-01 00:00 argsense/renderer/textual/textual_sugar/widgets.py
 -rw-r--r--  2.0 unx     1684 b- defN 80-Jan-01 00:00 argsense/renderer/textual/tooltip.py
 -rw-r--r--  2.0 unx      325 b- defN 80-Jan-01 00:00 argsense/renderer/textual/typehint.py
--rw-r--r--  2.0 unx     1065 b- defN 80-Jan-01 00:00 argsense-0.5.6.dist-info/LICENSE
--rw-r--r--  2.0 unx     7253 b- defN 80-Jan-01 00:00 argsense-0.5.6.dist-info/METADATA
--rw-r--r--  2.0 unx       88 b- defN 80-Jan-01 00:00 argsense-0.5.6.dist-info/WHEEL
--rw-r--r--  2.0 unx      124 b- defN 80-Jan-01 00:00 argsense-0.5.6.dist-info/entry_points.txt
-?rw-r--r--  2.0 unx     4030 b- defN 16-Jan-01 00:00 argsense-0.5.6.dist-info/RECORD
-45 files, 136981 bytes uncompressed, 47202 bytes compressed:  65.5%
+-rw-r--r--  2.0 unx     1065 b- defN 80-Jan-01 00:00 argsense-0.5.7.dist-info/LICENSE
+-rw-r--r--  2.0 unx     7249 b- defN 80-Jan-01 00:00 argsense-0.5.7.dist-info/METADATA
+-rw-r--r--  2.0 unx       88 b- defN 80-Jan-01 00:00 argsense-0.5.7.dist-info/WHEEL
+-rw-r--r--  2.0 unx      124 b- defN 80-Jan-01 00:00 argsense-0.5.7.dist-info/entry_points.txt
+?rw-r--r--  2.0 unx     4030 b- defN 16-Jan-01 00:00 argsense-0.5.7.dist-info/RECORD
+45 files, 137611 bytes uncompressed, 47341 bytes compressed:  65.6%
```

## zipnote {}

```diff
@@ -114,23 +114,23 @@
 
 Filename: argsense/renderer/textual/tooltip.py
 Comment: 
 
 Filename: argsense/renderer/textual/typehint.py
 Comment: 
 
-Filename: argsense-0.5.6.dist-info/LICENSE
+Filename: argsense-0.5.7.dist-info/LICENSE
 Comment: 
 
-Filename: argsense-0.5.6.dist-info/METADATA
+Filename: argsense-0.5.7.dist-info/METADATA
 Comment: 
 
-Filename: argsense-0.5.6.dist-info/WHEEL
+Filename: argsense-0.5.7.dist-info/WHEEL
 Comment: 
 
-Filename: argsense-0.5.6.dist-info/entry_points.txt
+Filename: argsense-0.5.7.dist-info/entry_points.txt
 Comment: 
 
-Filename: argsense-0.5.6.dist-info/RECORD
+Filename: argsense-0.5.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## argsense/__init__.py

```diff
@@ -21,8 +21,8 @@
 from .converter import name_2_cname
 from .converter import type_2_ctype
 from .parser import parse_argstring
 from .parser import parse_argv
 from .parser import parse_docstring
 from .parser import parse_function
 
-__version__ = '0.5.6'
+__version__ = '0.5.7'
```

## argsense/parser/func_parser.py

```diff
@@ -1,14 +1,16 @@
 import typing as t
 from inspect import getfullargspec
 
 from .args_parser import ParamType
 from .docs_parser import T as T0
 from .. import config
 
+_compatible_mode: bool = getattr(t, '_LiteralGenericAlias', None) is None
+
 
 class T:
     DocsInfo = T0.DocsInfo
     FallbackType = t.Literal['any', 'str']
     Func = t.Callable
     ParamName = str
     # TODO: shall we use `.args_parser.ParamType` instead?
@@ -22,18 +24,18 @@
             'cname': str,
             'ctype': ParamType,
             'desc' : str,
         })
     ]
     KwArgsInfo = t.Dict[
         ParamName, t.TypedDict('KwargsInfo', {
-            'cname'   : str,
-            'ctype'   : ParamType,
-            'desc'    : str,
-            'default' : t.Any,
+            'cname'  : str,
+            'ctype'  : ParamType,
+            'desc'   : str,
+            'default': t.Any,
         })
     ]
     RawInfo = t.TypedDict('RawInfo', {
         'name'  : str,
         'args'  : t.List[t.Tuple[ParamName, PlainParamType]],
         'kwargs': t.List[t.Tuple[ParamName, PlainParamType, t.Any]],
         'return': PlainParamType,  # noqa
@@ -146,18 +148,18 @@
                 'desc' : '',
             }
         
         for name, type, default in info['kwargs']:
             cname = name_2_cname(name, style='opt')
             self._append_cname(name, cname)
             self.kwargs[name] = {
-                'cname'   : cname,
-                'ctype'   : type_2_ctype(type),
-                'desc'    : '',
-                'default' : default,
+                'cname'  : cname,
+                'ctype'  : type_2_ctype(type),
+                'desc'   : '',
+                'default': default,
             }
     
     @property
     def local_kwargs(self) -> T.KwArgsInfo:
         return {k: v for k, v in self.kwargs.items() if not k.startswith(':')}
     
     def _append_cname(self, name: str, cname: str) -> None:
@@ -183,16 +185,16 @@
                     # the `cname` stored in `self.kwargs` is preferred `--xxx`
                     # than `-x`.
                     if cname.startswith('--'):
                         self.kwargs[name]['cname'] = cname
 
 
 def parse_function(
-        func: T.Func,
-        fallback_type: T.FallbackType = 'any'
+    func: T.Func,
+    fallback_type: T.FallbackType = 'any'
 ) -> FuncInfo:
     spec = getfullargspec(func)
     annotations = Annotations(spec.annotations, fallback_type)
     # print(':v', func.__name__, spec.annotations)
     ''' example:
         def foo(a: str, b: int, c=123, *args, d: bool = False, **kwargs):
             pass
@@ -250,17 +252,17 @@
         'return': return_,
     })
 
 
 class Annotations:
     
     def __init__(
-            self,
-            annotations: t.Dict[str, t.Any],
-            fallback_type: T.FallbackType = 'any'
+        self,
+        annotations: t.Dict[str, t.Any],
+        fallback_type: T.FallbackType = 'any'
     ):
         self.annotations = annotations
         self._fallback_type = fallback_type
         self._type_2_str = {
             'any'    : 'any',
             'anystr' : 'str',
             'bool'   : 'bool',
@@ -276,56 +278,67 @@
             'union'  : 'any',
         }
         if config.BARE_NONE_MEANS_ANY:
             self._type_2_str['none'] = 'any'
     
     # noinspection PyUnresolvedReferences,PyProtectedMember
     def _normalize_type(self, type_: t.Any) -> T.PlainParamType:
-        if isinstance(type_, t._TypedDictMeta):
-            return 'dict'
-        elif isinstance(type_, t._LiteralGenericAlias):
-            return 'str'
-        elif isinstance(type_, t._UnionGenericAlias):
-            return self._normalize_type(type_.__args__[0])
-        elif isinstance(type_, t._GenericAlias):
-            out = type_._name
-        elif isinstance(type_, str):
+        out = str(type_)
+        if isinstance(type_, str):
             out = type_
-        elif (x := getattr(type_, '__base__', None)) \
-                and str(x) == "<class 'tuple'>":
+        elif isinstance(type_, t._TypedDictMeta):
+            return 'dict'
+        elif (
+            (x := getattr(type_, '__base__', None)) and
+            str(x) == "<class 'tuple'>"
+        ):
             return 'tuple'  # typing.NamedTuple
         else:
-            out = str(type_)
-        
+            if _compatible_mode:
+                if isinstance(type_, t._GenericAlias):
+                    return 'any'
+            else:
+                if isinstance(type_, t._LiteralGenericAlias):
+                    # e.g.
+                    #   sometype = typing.Literal['A', 'B', 'C']
+                    #   type(sometype)  # -> typing._LiteralGenericAlias
+                    return 'str'
+                elif isinstance(type_, t._UnionGenericAlias):
+                    # e.g.
+                    #   sometype = typing.Union[str, None]
+                    #   type(sometype)  # -> typing._UnionGenericAlias
+                    return self._normalize_type(type_.__args__[0])
+                elif isinstance(type_, t._GenericAlias):
+                    out = type_._name
         assert isinstance(out, str)
         out = out.lower()
         if out.startswith('<class '):
             out = out[8:-2]  # "<class 'list'>" -> "list"
         if '[' in out:
             out = out.split('[', 1)[0]
-        
         # print(':v', type_, out)
         if out in self._type_2_str:
             return self._type_2_str[out]
         return 'any'
     
     def get_arg_type(self, name: str) -> T.PlainParamType:
         if name in self.annotations:
             return self._normalize_type(self.annotations[name])
         else:
             return self._fallback_type
     
     def get_kwarg_type(self, name: str, value: t.Any) -> T.PlainParamType:
         if name in self.annotations:
-            t = self._normalize_type(self.annotations[name])
+            out = self._normalize_type(self.annotations[name])
         else:
-            t = self.deduce_type_by_value(value)
-        if t == 'bool':
-            t = 'flag'
-        return t
+            out = self.deduce_type_by_value(value)
+        if out == 'bool':
+            out = 'flag'
+        # noinspection PyTypeChecker
+        return out
     
     def get_return_type(self) -> T.PlainParamType:
         if 'return' in self.annotations:
             return self._normalize_type(self.annotations['return'])
         else:
             return 'none'
     
@@ -337,8 +350,9 @@
             float: 'float',
             int  : 'int',
             list : 'list',
             set  : 'set',
             str  : 'str',
             tuple: 'tuple',
         }
+        # noinspection PyTypeChecker
         return dict_.get(type(default), 'any')
```

## Comparing `argsense-0.5.6.dist-info/LICENSE` & `argsense-0.5.7.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `argsense-0.5.6.dist-info/METADATA` & `argsense-0.5.7.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: argsense
-Version: 0.5.6
+Version: 0.5.7
 Summary: New command line interface based on Python Rich library.
 Home-page: https://github.com/likianta/argsense-cli
 License: MIT
 Author: Likianta
 Author-email: likianta@foxmail.com
 Requires-Python: >=3.8,<4.0
 Classifier: License :: OSI Approved :: MIT License
@@ -12,16 +12,15 @@
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: 3.12
 Provides-Extra: gui
 Requires-Dist: pysimplegui ; extra == "gui"
-Requires-Dist: rich
-Requires-Dist: textual
+Requires-Dist: rich (>=13.0.0,<14.0.0)
 Description-Content-Type: text/markdown
 
 # Argsense CLI
 
 **argsense** is a command line interface made with Python.
 
 ![group help](.assets/examples/classic/20220615143658.jpg)
```

## Comparing `argsense-0.5.6.dist-info/RECORD` & `argsense-0.5.7.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,23 +1,23 @@
-argsense/__init__.py,sha256=lCYLTZp5Vl1ozxEKpkKGkQb0WkLWmuPaYfvJAF7mwHc,1012
+argsense/__init__.py,sha256=SSsNnVQZr-9zjVgt-fJJsNRo86E2OKMOW5lc-10PCbo,1012
 argsense/__main__.py,sha256=ErTMHyDDrHEM34dSCYQFNapXUFvZne4JspwyjdAI4Qs,3327
 argsense/cli.py,sha256=AycKQvoBcFsPmmUM4XvJSOgBcv0P3QqURhf6a8vaE30,10559
 argsense/config.py,sha256=FRpNXCTL67X8uVUrsqijiEl6bPSm24AajnOz60JMjig,2200
 argsense/console.py,sha256=TLKcuyPv0bY_rieUy07wTDOYNKWdro4Uq1YL6SnyLXo,858
 argsense/converter.py,sha256=9LJmeB6RpcsJ9FP2hcUIuaH_giLhGl0LIv0gHbOb4OU,7800
 argsense/general.py,sha256=g4u3bCYd2BbjlGpkbm2HPdYiGSrdNjWhdvIcSf9Yl8M,781
 argsense/parser/__init__.py,sha256=ctHTwdnxppW0Ib9lOA7xceCV1ma5CVG-3bgrLiMHfO8,351
 argsense/parser/args_parser/__init__.py,sha256=ipmfTYkJ5WxXBUbicpjTtszc7KJJZq1FQeNLaaIPQYQ,138
 argsense/parser/args_parser/argv.py,sha256=NJJjbL6QzunEKdQc0yfyu1w-LRTpwTy1mFjrJoni8Uw,3083
 argsense/parser/args_parser/context.py,sha256=0SmKEk-2D2q2WZVJy9e9cKgPhCwxGwsYAFZQHKXDZ6Q,767
 argsense/parser/args_parser/exceptions.py,sha256=hB67BTXO86kjHpEBH0AE4_vQv0hSwnX1WvYcMT-hef4,3673
 argsense/parser/args_parser/params.py,sha256=STwCyK0ovd2x2BAssGKZdrFfr0tVP8VtHYw51C9XuZI,2429
 argsense/parser/args_parser/parser.py,sha256=KvS-pUHArKtWACFdQDba8UhslRsJs5LVaNbYTEL6d1I,7721
 argsense/parser/docs_parser.py,sha256=fVC8n2eBdIBALEaNEOQRQgDvJXYItW3Qsso5-MP6Ujw,3734
-argsense/parser/func_parser.py,sha256=7u75CEREEPxc8NKTQBhDNHLX4aGLzxc4s0wkySfGRWQ,11337
+argsense/parser/func_parser.py,sha256=wEtEtdl7UQXfpt0y6_AQIXTv0e2Sm7yXSe_RUTOdLEA,11971
 argsense/renderer/__init__.py,sha256=sdF5_yYkDdRMDj2esXmtnOo4zTSARnIL4WewVjtlcm4,159
 argsense/renderer/psg/__init__.py,sha256=QXzW3aVbiEqgw207VQEY_0uPknbiS3bW8f6jOz-j3vQ,22
 argsense/renderer/psg/launcher.png,sha256=vcZrddSZuHHtJ-EVNhar05aKZC6zoUNH7vSxUwpxzBg,8645
 argsense/renderer/psg/main.py,sha256=VKFu-oC3kU4hmkzfLEjJzdLfaNqhoF9pYLpxOoKEp3Y,4144
 argsense/renderer/rich/__init__.py,sha256=Fd_NKTgjMK65TSJsBX8v-jk_qDBVQxjwzXiiQ3VtH0s,55
 argsense/renderer/rich/artist.py,sha256=wWNjvQgXKNt_n2X4BgFxHJmEA0mYuiWiTFPC7IRxebs,7109
 argsense/renderer/rich/render.py,sha256=lTajQ38BxLC8uadtqZ_RntFrvFKIBpOPYKxzpl1blU8,12555
@@ -34,12 +34,12 @@
 argsense/renderer/textual/textual_sugar/binding.py,sha256=2JaQyHdawVjr0N5QbS_OI_Awo1GPzVmBNd5b37ztnfg,802
 argsense/renderer/textual/textual_sugar/chore.py,sha256=a8OhI0ATlsWnIiDYgT0B4_HwQQBfBD8KBlha9901WfQ,195
 argsense/renderer/textual/textual_sugar/logger.py,sha256=8H2S9p8-E4PsnAl2mvsh71a9RGSUIpBwzQvz8OfGfJA,224
 argsense/renderer/textual/textual_sugar/signal.py,sha256=TflZF6nNfL0Suah6-IWkhWsyOeE73Bl-fwJ_pRLl-Ro,1814
 argsense/renderer/textual/textual_sugar/widgets.py,sha256=RBsrESxx7yshAfeLl2AtrPfVI6UhryLtXNO6TvR2hBc,1518
 argsense/renderer/textual/tooltip.py,sha256=8AvIEiC47owKmWM45fHLMgChMKw0yOAt-mz317i40a8,1684
 argsense/renderer/textual/typehint.py,sha256=MqOPpYHI_jNcXNWD4mcKpxEHyfQIU8gbwyT0OJPsWcU,325
-argsense-0.5.6.dist-info/LICENSE,sha256=hUbT50bWKSTLrZI4OJYcmFS3RRLrssciDjTspaz0wfQ,1065
-argsense-0.5.6.dist-info/METADATA,sha256=trUID6LjY6qM13rNU_qOxQHxoLrCsbkjLLFrNfv83jo,7253
-argsense-0.5.6.dist-info/WHEEL,sha256=FMvqSimYX_P7y0a7UY-_Mc83r5zkBZsCYPm7Lr0Bsq4,88
-argsense-0.5.6.dist-info/entry_points.txt,sha256=3Go45cG_hpbwQogmG5fBDP0Ge5gmqbRPYvjVL2KH5CU,124
-argsense-0.5.6.dist-info/RECORD,,
+argsense-0.5.7.dist-info/LICENSE,sha256=hUbT50bWKSTLrZI4OJYcmFS3RRLrssciDjTspaz0wfQ,1065
+argsense-0.5.7.dist-info/METADATA,sha256=2DyPIxLCFB5OptUbiS-59lQtpc5iZw48r0856NAFxG4,7249
+argsense-0.5.7.dist-info/WHEEL,sha256=sP946D7jFCHeNz5Iq4fL4Lu-PrWrFsgfLXbbkciIZwg,88
+argsense-0.5.7.dist-info/entry_points.txt,sha256=3Go45cG_hpbwQogmG5fBDP0Ge5gmqbRPYvjVL2KH5CU,124
+argsense-0.5.7.dist-info/RECORD,,
```

